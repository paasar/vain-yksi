const vt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};vt();function I(){}const $e=t=>t;function it(t){return t()}function Ie(){return Object.create(null)}function Y(t){t.forEach(it)}function we(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function bt(t){return Object.keys(t).length===0}function yt(t,...e){if(t==null)return I;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ve(t,e,n){t.$$.on_destroy.push(yt(e,n))}const st=typeof window<"u";let rt=st?()=>window.performance.now():()=>Date.now(),Ee=st?t=>requestAnimationFrame(t):I;const x=new Set;function ot(t){x.forEach(e=>{e.c(t)||(x.delete(e),e.f())}),x.size!==0&&Ee(ot)}function ut(t){let e;return x.size===0&&Ee(ot),{promise:new Promise(n=>{x.add(e={c:t,f:n})}),abort(){x.delete(e)}}}function m(t,e){t.appendChild(e)}function at(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function kt(t){const e=h("style");return gt(at(t),e),e.sheet}function gt(t,e){m(t.head||t,e)}function k(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function Se(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function P(t){return document.createTextNode(t)}function R(){return P(" ")}function Ne(){return P("")}function q(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ft(t){return t===""?null:+t}function $t(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Z(t,e,n){t.classList[n?"add":"remove"](e)}function wt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}const _e=new Map;let pe=0;function Et(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function St(t,e){const n={stylesheet:kt(e),rules:{}};return _e.set(t,n),n}function ct(t,e,n,l,s,r,i,o=0){const a=16.666/l;let u=`{
`;for(let d=0;d<=1;d+=a){const g=e+(n-e)*r(d);u+=d*100+`%{${i(g,1-g)}}
`}const p=u+`100% {${i(n,1-n)}}
}`,f=`__svelte_${Et(p)}_${o}`,c=at(t),{stylesheet:b,rules:$}=_e.get(c)||St(c,t);$[f]||($[f]=!0,b.insertRule(`@keyframes ${f} ${p}`,b.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${f} ${l}ms linear ${s}ms 1 both`,pe+=1,f}function ke(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),pe-=s,pe||Nt())}function Nt(){Ee(()=>{pe||(_e.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),_e.clear())})}let Ae;function ie(t){Ae=t}const le=[],je=[],ce=[],qe=[],At=Promise.resolve();let ge=!1;function Pt(){ge||(ge=!0,At.then(dt))}function J(t){ce.push(t)}const ye=new Set;let fe=0;function dt(){const t=Ae;do{for(;fe<le.length;){const e=le[fe];fe++,ie(e),Lt(e.$$)}for(ie(null),le.length=0,fe=0;je.length;)je.pop()();for(let e=0;e<ce.length;e+=1){const n=ce[e];ye.has(n)||(ye.add(n),n())}ce.length=0}while(le.length);for(;qe.length;)qe.pop()();ge=!1,ye.clear(),ie(t)}function Lt(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let ne;function _t(){return ne||(ne=Promise.resolve(),ne.then(()=>{ne=null})),ne}function me(t,e,n){t.dispatchEvent(wt(`${e?"intro":"outro"}${n}`))}const de=new Set;let Q;function Pe(){Q={r:0,c:[],p:Q}}function Le(){Q.r||Y(Q.c),Q=Q.p}function U(t,e){t&&t.i&&(de.delete(t),t.i(e))}function V(t,e,n,l){if(t&&t.o){if(de.has(t))return;de.add(t),Q.c.push(()=>{de.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const pt={duration:0};function se(t,e,n){let l=e(t,n),s=!1,r,i,o=0;function a(){r&&ke(t,r)}function u(){const{delay:f=0,duration:c=300,easing:b=$e,tick:$=I,css:_}=l||pt;_&&(r=ct(t,0,1,c,f,b,_,o++)),$(0,1);const d=rt()+f,g=d+c;i&&i.abort(),s=!0,J(()=>me(t,!0,"start")),i=ut(E=>{if(s){if(E>=g)return $(1,0),me(t,!0,"end"),a(),s=!1;if(E>=d){const S=b((E-d)/c);$(S,1-S)}}return s})}let p=!1;return{start(){p||(p=!0,ke(t),we(l)?(l=l(),_t().then(u)):u())},invalidate(){p=!1},end(){s&&(a(),s=!1)}}}function te(t,e,n){let l=e(t,n),s=!0,r;const i=Q;i.r+=1;function o(){const{delay:a=0,duration:u=300,easing:p=$e,tick:f=I,css:c}=l||pt;c&&(r=ct(t,1,0,u,a,p,c));const b=rt()+a,$=b+u;J(()=>me(t,!1,"start")),ut(_=>{if(s){if(_>=$)return f(0,1),me(t,!1,"end"),--i.r||Y(i.c),!1;if(_>=b){const d=p((_-b)/u);f(1-d,d)}}return s})}return we(l)?_t().then(()=>{l=l(),o()}):o(),{end(a){a&&l.tick&&l.tick(1,0),s&&(r&&ke(t,r),s=!1)}}}function Ot(t,e){V(t,1,1,()=>{e.delete(t.key)})}function Ct(t,e,n,l,s,r,i,o,a,u,p,f){let c=t.length,b=r.length,$=c;const _={};for(;$--;)_[t[$].key]=$;const d=[],g=new Map,E=new Map;for($=b;$--;){const w=f(s,r,$),O=n(w);let A=i.get(O);A?l&&A.p(w,e):(A=u(O,w),A.c()),g.set(O,d[$]=A),O in _&&E.set(O,Math.abs($-_[O]))}const S=new Set,v=new Set;function H(w){U(w,1),w.m(o,p),i.set(w.key,w),p=w.first,b--}for(;c&&b;){const w=d[b-1],O=t[c-1],A=w.key,L=O.key;w===O?(p=w.first,c--,b--):g.has(L)?!i.has(A)||S.has(A)?H(w):v.has(L)?c--:E.get(A)>E.get(L)?(v.add(A),H(w)):(S.add(L),c--):(a(O,i),c--)}for(;c--;){const w=t[c];g.has(w.key)||a(w,i)}for(;b;)H(d[b-1]);return d}function be(t){t&&t.c()}function re(t,e,n,l){const{fragment:s,on_mount:r,on_destroy:i,after_update:o}=t.$$;s&&s.m(e,n),l||J(()=>{const a=r.map(it).filter(we);i?i.push(...a):Y(a),t.$$.on_mount=[]}),o.forEach(J)}function oe(t,e){const n=t.$$;n.fragment!==null&&(Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(le.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,n,l,s,r,i,o=[-1]){const a=Ae;ie(t);const u=t.$$={fragment:null,ctx:null,props:r,update:I,not_equal:s,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ie(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let p=!1;if(u.ctx=n?n(t,e.props||{},(f,c,...b)=>{const $=b.length?b[0]:c;return u.ctx&&s(u.ctx[f],u.ctx[f]=$)&&(!u.skip_bound&&u.bound[f]&&u.bound[f]($),p&&Rt(t,f)),c}):[],u.update(),p=!0,Y(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const f=$t(e.target);u.fragment&&u.fragment.l(f),f.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&U(t.$$.fragment),re(t,e.target,e.anchor,e.customElement),dt()}ie(a)}class ae{$destroy(){oe(this,1),this.$destroy=I}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function Ht(t,e=I){let n;const l=new Set;function s(o){if(ee(t,o)&&(t=o,n)){const a=!X.length;for(const u of l)u[1](),X.push(u,t);if(a){for(let u=0;u<X.length;u+=2)X[u][0](X[u+1]);X.length=0}}}function r(o){s(o(t))}function i(o,a=I){const u=[o,a];return l.add(u),l.size===1&&(n=e(s)||I),o(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:i}}class Gt{constructor(){this.gameStarted=!1,this.otherPlayers=[],this.hints=[],this.duplicateHints=[]}}let j=Ht(new Gt);class It{constructor(e,n){this.client=e,this.hint=n}}class jt{constructor(e){this.guess=e.guess,this.word=e.word,this.correct=e.result==="correct"}}class De{constructor(e,n){this.hintGiven=!1,this.guesser=!1,this.id=e,this.username=n}}function qt(){j.update(t=>(t.duplicateHints=[],t.hints=[],t.result=null,t))}let he=window.location.hostname,Oe=":8000";he!=="localhost"&&he!=="127.0.0.1"&&(Oe="");let Dt=window.location.protocol,Ce="ws";Dt==="https:"&&(Ce="wss");let mt=window.location.pathname,F;var T;(function(t){t.ALL_HINTS="all_hints",t.ALL_HINTS_TO_GUESSER="all_hints_to_guesser",t.GUESS_RESULT="guess_result",t.HINT_RECEIVED="hint_received",t.NEW_GAME="new_game",t.NEW_ROUND="new_round",t.OTHER_PLAYERS="other_players",t.PLAYER_JOIN="join",t.PLAYER_QUIT="quit",t.YOUR_DATA="your_data"})(T||(T={}));function Me(t){F=new WebSocket(`${Ce}://${he}${Oe}${mt}ws/new/${t}`),ht(F)}function Te(t,e){F=new WebSocket(`${Ce}://${he}${Oe}${mt}ws/join/${t}/${e}`),j.update(n=>(n.id=t,n)),ht(F)}function Re(){console.log("Starting next round"),F.send(JSON.stringify({action:{start_next_round:!0}}))}function Ue(t){console.log("Sending hint",t),F.send(JSON.stringify({action:{hint:t}})),j.update(e=>(e.player.hintGiven=!0,e))}function Je(t){console.log("Sending guess",t),F.send(JSON.stringify({action:{guess:t}}))}function Mt(){console.log("Skip word"),F.send(JSON.stringify({action:{skip_word:!0}}))}function ht(t){t.onopen=function(e){console.log("[open] Connection established")},t.onmessage=function(e){console.log(`[message] Data received from server: ${e.data} ${typeof e.data}`);let n=JSON.parse(e.data);switch(n.event){case T.ALL_HINTS:let l=n.payload;j.update(_=>(_.hints=l.hints,_.duplicateHints=l.duplicates,_));break;case T.ALL_HINTS_TO_GUESSER:let s=n.payload;j.update(_=>(_.hints=s.hints,_.duplicateHints=s.usersWithDuplicates.map(d=>new It(d,"")),_));break;case T.GUESS_RESULT:let r=n.payload;j.update(_=>(_.result=new jt(r),_));break;case T.HINT_RECEIVED:let i=n.payload;j.update(_=>(_.otherPlayers=_.otherPlayers.map(d=>(d.id===i.client&&(d.hintGiven=!0),d)),_));break;case T.NEW_GAME:let o=n.payload;console.log("NewGame event!",o.id),j.update(_=>(_.id=o.id,_));break;case T.NEW_ROUND:let a=n.payload;console.log("NewRound event!",a.role,a.word),qt(),j.update(_=>(_.word=a.word,_.player.guesser=a.role==="guesser",_.player.hintGiven=!1,_)),j.update(_=>(_.otherPlayers=_.otherPlayers.map(d=>(d.id===a.guesser?d.guesser=!0:d.guesser=!1,d.hintGiven=!1,d)),_)),j.update(_=>(_.gameStarted=!0,_));break;case T.OTHER_PLAYERS:let u=n.payload;console.log("Other players",u),j.update(_=>(_.otherPlayers=u,_));break;case T.PLAYER_JOIN:let p=n.payload;console.log("Join event!",p.id,p.username);let f=new De(p.id,p.username);j.update(_=>(_.otherPlayers.push(f),_));break;case T.PLAYER_QUIT:let c=n.payload;console.log("Quit event!",c.id),j.update(_=>(_.otherPlayers=_.otherPlayers.filter(d=>d.id!==c.id),_));break;case T.YOUR_DATA:let b=n.payload,$=new De(b.id,b.username);j.update(_=>(_.player=$,_));break;default:console.log("Unknown event:",typeof n)}},t.onclose=function(e){e.wasClean?console.log(`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`):console.log("[close] Connection died")},t.onerror=function(e){console.log(`[error] ${e}`)}}function Ve(t,e,n){const l=t.slice();return l[7]=e[n],l}function Tt(t){let e;return{c(){e=P("Odotellaan muita.")},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Ut(t){let e,n,l,s=t[1].word+"",r,i,o,a,u,p,f,c,b,$,_,d,g;return{c(){e=h("div"),n=P("Anna vinkki sanalle: "),l=h("div"),r=P(s),i=R(),o=h("div"),a=h("div"),u=h("label"),u.textContent="Vinkki",p=R(),f=h("input"),c=R(),b=h("button"),$=P("L\xE4het\xE4 vinkki"),N(l,"class","word-to-guess svelte-qc0lxf"),N(u,"for","hint"),N(f,"id","hint"),b.disabled=_=!t[0],N(b,"class","svelte-qc0lxf"),N(o,"class","row")},m(E,S){k(E,e,S),m(e,n),m(e,l),m(l,r),k(E,i,S),k(E,o,S),m(o,a),m(a,u),m(a,p),m(a,f),z(f,t[0]),m(o,c),m(o,b),m(b,$),d||(g=[q(f,"input",t[2]),q(f,"keydown",t[3]),q(b,"click",t[4])],d=!0)},p(E,S){S&2&&s!==(s=E[1].word+"")&&M(r,s),S&1&&f.value!==E[0]&&z(f,E[0]),S&1&&_!==(_=!E[0])&&(b.disabled=_)},d(E){E&&y(e),E&&y(i),E&&y(o),d=!1,Y(g)}}}function Jt(t){let e;return{c(){e=P("Sin\xE4 arvaat! Odota vinkkej\xE4.")},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Ye(t){let e;return{c(){e=h("div"),e.textContent="Ei muita pelaajia."},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Vt(t){let e;return{c(){e=P("Vinkkaa")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Yt(t){let e;return{c(){e=P("VALMIS")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Wt(t){let e;return{c(){e=P("ARVAA")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function We(t){let e,n,l=t[7].username+"",s,r,i,o;function a(f,c){return f[7].guesser?Wt:f[7].hintGiven?Yt:Vt}let u=a(t),p=u(t);return{c(){e=h("div"),n=h("div"),s=P(l),r=R(),i=h("div"),p.c(),o=R(),N(n,"class","username svelte-qc0lxf"),N(i,"class","state svelte-qc0lxf"),Z(i,"ready",t[7].hintGiven),N(e,"class","player-state-card svelte-qc0lxf"),Z(e,"guesser",t[7].guesser)},m(f,c){k(f,e,c),m(e,n),m(n,s),m(e,r),m(e,i),p.m(i,null),m(e,o)},p(f,c){c&2&&l!==(l=f[7].username+"")&&M(s,l),u!==(u=a(f))&&(p.d(1),p=u(f),p&&(p.c(),p.m(i,null))),c&2&&Z(i,"ready",f[7].hintGiven),c&2&&Z(e,"guesser",f[7].guesser)},d(f){f&&y(e),p.d()}}}function ze(t){let e,n,l;return{c(){e=h("button"),e.textContent="Vaihda sana",N(e,"class","svelte-qc0lxf")},m(s,r){k(s,e,r),n||(l=q(e,"click",t[5]),n=!0)},p:I,d(s){s&&y(e),n=!1,l()}}}function zt(t){let e,n,l,s,r,i,o,a,u,p,f,c;function b(v,H){return v[1].player&&v[1].player.guesser?Jt:v[1].player&&!v[1].player.hintGiven?Ut:Tt}let $=b(t),_=$(t),d=t[1].otherPlayers,g=[];for(let v=0;v<d.length;v+=1)g[v]=We(Ve(t,d,v));let E=null;d.length||(E=Ye());let S=t[1].player&&!t[1].player.guesser&&ze(t);return{c(){e=h("div"),_.c(),n=R(),l=h("h2"),l.textContent="Muut",s=R(),r=h("div");for(let v=0;v<g.length;v+=1)g[v].c();E&&E.c(),i=R(),o=h("div"),a=h("div"),S&&S.c(),u=R(),p=h("button"),p.textContent="Vaihda arvaaja ja sana",N(p,"class","svelte-qc0lxf"),N(a,"class","footer-content svelte-qc0lxf"),N(o,"class","footer svelte-qc0lxf")},m(v,H){k(v,e,H),_.m(e,null),k(v,n,H),k(v,l,H),k(v,s,H),k(v,r,H);for(let w=0;w<g.length;w+=1)g[w].m(r,null);E&&E.m(r,null),k(v,i,H),k(v,o,H),m(o,a),S&&S.m(a,null),m(a,u),m(a,p),f||(c=q(p,"click",t[6]),f=!0)},p(v,[H]){if($===($=b(v))&&_?_.p(v,H):(_.d(1),_=$(v),_&&(_.c(),_.m(e,null))),H&2){d=v[1].otherPlayers;let w;for(w=0;w<d.length;w+=1){const O=Ve(v,d,w);g[w]?g[w].p(O,H):(g[w]=We(O),g[w].c(),g[w].m(r,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=d.length,!d.length&&E?E.p(v,H):d.length?E&&(E.d(1),E=null):(E=Ye(),E.c(),E.m(r,null))}v[1].player&&!v[1].player.guesser?S?S.p(v,H):(S=ze(v),S.c(),S.m(a,u)):S&&(S.d(1),S=null)},i:I,o:I,d(v){v&&y(e),_.d(),v&&y(n),v&&y(l),v&&y(s),v&&y(r),Se(g,v),E&&E.d(),v&&y(i),v&&y(o),S&&S.d(),f=!1,c()}}}function Qt(t,e,n){let l;ve(t,j,p=>n(1,l=p));let s;function r(){s=this.value,n(0,s)}return[s,l,r,p=>{p.key==="Enter"&&s&&Ue(s)},()=>Ue(s),()=>{!confirm("Haluatko varmasti vaihtaa sanan?")||Mt()},()=>{!confirm("Haluatko varmasti vaihtaa arvaajan ja sanan?")||Re()}]}class Ft extends ae{constructor(e){super(),ue(this,e,Qt,zt,ee,{})}}function Bt(t){const e=t-1;return e*e*e+1}function He(t,{delay:e=0,duration:n=400,easing:l=$e}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:r=>`opacity: ${r*s}`}}function B(t,{delay:e=0,duration:n=400,easing:l=Bt,x:s=0,y:r=0,opacity:i=0}={}){const o=getComputedStyle(t),a=+o.opacity,u=o.transform==="none"?"":o.transform,p=a*(1-i);return{delay:e,duration:n,easing:l,css:(f,c)=>`
			transform: ${u} translate(${(1-f)*s}px, ${(1-f)*r}px);
			opacity: ${a-p*c}`}}function Qe(t,e,n){const l=t.slice();return l[9]=e[n],l}function Fe(t,e,n){const l=t.slice();return l[9]=e[n],l}function Be(t){let e,n,l,s=t[1].duplicateHints,r=[];for(let i=0;i<s.length;i+=1)r[i]=Ke(Fe(t,s,i));return{c(){e=h("h2"),e.textContent="Duplikaatit vinkit",n=R();for(let i=0;i<r.length;i+=1)r[i].c();l=Ne()},m(i,o){k(i,e,o),k(i,n,o);for(let a=0;a<r.length;a+=1)r[a].m(i,o);k(i,l,o)},p(i,o){if(o&10){s=i[1].duplicateHints;let a;for(a=0;a<s.length;a+=1){const u=Fe(i,s,a);r[a]?r[a].p(u,o):(r[a]=Ke(u),r[a].c(),r[a].m(l.parentNode,l))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}},d(i){i&&y(e),i&&y(n),Se(r,i),i&&y(l)}}}function Kt(t){let e,n=t[3](t[9].client)+"",l,s;return{c(){e=h("div"),l=P(n),s=R(),N(e,"class","duplicate svelte-1erss3n")},m(r,i){k(r,e,i),m(e,l),m(e,s)},p(r,i){i&2&&n!==(n=r[3](r[9].client)+"")&&M(l,n)},d(r){r&&y(e)}}}function Xt(t){let e,n,l=t[3](t[9].client)+"",s,r,i,o=t[9].hint+"",a,u;return{c(){e=h("div"),n=h("div"),s=P(l),r=R(),i=h("div"),a=P(o),u=R(),N(n,"class","username svelte-1erss3n"),N(i,"class","hint svelte-1erss3n"),N(e,"class","hint-card duplicate svelte-1erss3n")},m(p,f){k(p,e,f),m(e,n),m(n,s),m(e,r),m(e,i),m(i,a),m(e,u)},p(p,f){f&2&&l!==(l=p[3](p[9].client)+"")&&M(s,l),f&2&&o!==(o=p[9].hint+"")&&M(a,o)},d(p){p&&y(e)}}}function Ke(t){let e;function n(r,i){return(!r[1].player.guesser||r[1].result)&&r[9].hint?Xt:Kt}let l=n(t),s=l(t);return{c(){s.c(),e=Ne()},m(r,i){s.m(r,i),k(r,e,i)},p(r,i){l===(l=n(r))&&s?s.p(r,i):(s.d(1),s=l(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&y(e)}}}function Xe(t){let e;return{c(){e=P("-")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Ze(t){let e,n,l=t[3](t[9].client)+"",s,r,i,o=t[9].hint+"",a;return{c(){e=h("div"),n=h("div"),s=P(l),r=R(),i=h("div"),a=P(o),N(n,"class","username svelte-1erss3n"),N(i,"class","hint svelte-1erss3n"),N(e,"class","hint-card svelte-1erss3n")},m(u,p){k(u,e,p),m(e,n),m(n,s),m(e,r),m(e,i),m(i,a)},p(u,p){p&2&&l!==(l=u[3](u[9].client)+"")&&M(s,l),p&2&&o!==(o=u[9].hint+"")&&M(a,o)},d(u){u&&y(e)}}}function Zt(t){let e,n,l;function s(o,a){return o[1].player.guesser?tn:en}let r=s(t),i=r(t);return{c(){e=h("div"),i.c(),N(e,"class","row")},m(o,a){k(o,e,a),i.m(e,null),l=!0},p(o,a){r===(r=s(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i(o){l||(n&&n.end(1),l=!0)},o(o){n=te(e,He,{duration:500}),l=!1},d(o){o&&y(e),i.d(),o&&n&&n.end()}}}function xt(t){let e,n,l,s,r,i,o,a,u,p=t[1].result.word+"",f,c,b,$,_,d,g,E,S;function v(A,L){return A[1].result.correct?ln:nn}let H=v(t),w=H(t),O=!t[1].result.correct&&xe(t);return{c(){e=h("div"),n=h("div"),l=P("Arvaus meni "),s=h("span"),w.c(),r=P("!"),i=R(),o=h("div"),a=P("Sana oli "),u=h("span"),f=P(p),c=P("."),b=R(),O&&O.c(),$=R(),_=h("div"),d=h("button"),d.textContent="Aloita uusi kierros",N(s,"class","emphasis svelte-1erss3n"),N(u,"class","emphasis svelte-1erss3n"),N(_,"class","next-round svelte-1erss3n"),N(e,"class","result svelte-1erss3n")},m(A,L){k(A,e,L),m(e,n),m(n,l),m(n,s),w.m(s,null),m(s,r),m(e,i),m(e,o),m(o,a),m(o,u),m(u,f),m(o,c),m(e,b),O&&O.m(e,null),m(e,$),m(e,_),m(_,d),E||(S=q(d,"click",t[4]),E=!0)},p(A,L){H!==(H=v(A))&&(w.d(1),w=H(A),w&&(w.c(),w.m(s,r))),L&2&&p!==(p=A[1].result.word+"")&&M(f,p),A[1].result.correct?O&&(O.d(1),O=null):O?O.p(A,L):(O=xe(A),O.c(),O.m(e,$))},i(A){g||J(()=>{g=se(e,He,{duration:500,delay:500}),g.start()})},o:I,d(A){A&&y(e),w.d(),O&&O.d(),E=!1,S()}}}function en(t){let e,n,l;return{c(){e=P("Odotetaan, ett\xE4 "),n=P(t[2]),l=P(" arvaa.")},m(s,r){k(s,e,r),k(s,n,r),k(s,l,r)},p:I,d(s){s&&y(e),s&&y(n),s&&y(l)}}}function tn(t){let e,n,l,s,r,i,o,a,u,p;return{c(){e=h("div"),n=h("label"),n.textContent="Arvaus",l=R(),s=h("input"),r=R(),i=h("button"),o=P("Arvaa!"),N(n,"for","guess"),N(s,"id","guess"),N(i,"class","button-guess svelte-1erss3n"),i.disabled=a=!t[0]},m(f,c){k(f,e,c),m(e,n),m(e,l),m(e,s),z(s,t[0]),k(f,r,c),k(f,i,c),m(i,o),u||(p=[q(s,"input",t[5]),q(s,"keydown",t[6]),q(i,"click",t[7])],u=!0)},p(f,c){c&1&&s.value!==f[0]&&z(s,f[0]),c&1&&a!==(a=!f[0])&&(i.disabled=a)},d(f){f&&y(e),f&&y(r),f&&y(i),u=!1,Y(p)}}}function nn(t){let e;return{c(){e=P("v\xE4\xE4rin")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function ln(t){let e;return{c(){e=P("oikein")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function xe(t){let e,n,l=t[1].result.guess+"",s,r;return{c(){e=P("Arvaus oli "),n=h("span"),s=P(l),r=P("."),N(n,"class","emphasis svelte-1erss3n")},m(i,o){k(i,e,o),k(i,n,o),m(n,s),k(i,r,o)},p(i,o){o&2&&l!==(l=i[1].result.guess+"")&&M(s,l)},d(i){i&&y(e),i&&y(n),i&&y(r)}}}function sn(t){let e,n,l,s,r,i,o,a,u=t[1].duplicateHints.length>0&&Be(t),p=t[1].hints,f=[];for(let d=0;d<p.length;d+=1)f[d]=Ze(Qe(t,p,d));let c=null;p.length||(c=Xe());const b=[xt,Zt],$=[];function _(d,g){return d[1].result?0:1}return r=_(t),i=$[r]=b[r](t),{c(){u&&u.c(),e=R(),n=h("h2"),n.textContent="Vinkit",l=R();for(let d=0;d<f.length;d+=1)f[d].c();c&&c.c(),s=R(),i.c(),o=Ne()},m(d,g){u&&u.m(d,g),k(d,e,g),k(d,n,g),k(d,l,g);for(let E=0;E<f.length;E+=1)f[E].m(d,g);c&&c.m(d,g),k(d,s,g),$[r].m(d,g),k(d,o,g),a=!0},p(d,[g]){if(d[1].duplicateHints.length>0?u?u.p(d,g):(u=Be(d),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),g&10){p=d[1].hints;let S;for(S=0;S<p.length;S+=1){const v=Qe(d,p,S);f[S]?f[S].p(v,g):(f[S]=Ze(v),f[S].c(),f[S].m(s.parentNode,s))}for(;S<f.length;S+=1)f[S].d(1);f.length=p.length,p.length?c&&(c.d(1),c=null):c||(c=Xe(),c.c(),c.m(s.parentNode,s))}let E=r;r=_(d),r===E?$[r].p(d,g):(Pe(),V($[E],1,1,()=>{$[E]=null}),Le(),i=$[r],i?i.p(d,g):(i=$[r]=b[r](d),i.c()),U(i,1),i.m(o.parentNode,o))},i(d){a||(U(i),a=!0)},o(d){V(i),a=!1},d(d){u&&u.d(d),d&&y(e),d&&y(n),d&&y(l),Se(f,d),c&&c.d(d),d&&y(s),$[r].d(d),d&&y(o)}}}function rn(t,e,n){let l;ve(t,j,c=>n(1,l=c));let s=l.otherPlayers.filter(c=>c.guesser).at(0),r=s?s.username:"...",i;function o(c){let b=l.otherPlayers.filter($=>$.id===c);return b.length===1?b.at(0).username:l.player.id===c?l.player.username:"N/A"}const a=()=>Re();function u(){i=this.value,n(0,i)}return[i,l,r,o,a,u,c=>{c.key==="Enter"&&i&&Je(i)},()=>Je(i)]}class on extends ae{constructor(e){super(),ue(this,e,rn,sn,ee,{})}}function et(t,e,n){const l=t.slice();return l[2]=e[n],l}function tt(t){let e,n,l=t[0].player.username+"",s;return{c(){e=P("Pelaat nimell\xE4 "),n=h("div"),s=P(l),N(n,"class","username svelte-1nvwh74")},m(r,i){k(r,e,i),k(r,n,i),m(n,s)},p(r,i){i&1&&l!==(l=r[0].player.username+"")&&M(s,l)},d(r){r&&y(e),r&&y(n)}}}function nt(t){let e;return{c(){e=h("div"),e.textContent="Ei viel\xE4 muita pelaajia."},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function lt(t,e){let n,l=e[2].username+"",s,r,i,o;return{key:t,first:null,c(){n=h("div"),s=P(l),N(n,"class","player-card svelte-1nvwh74"),this.first=n},m(a,u){k(a,n,u),m(n,s),o=!0},p(a,u){e=a,(!o||u&1)&&l!==(l=e[2].username+"")&&M(s,l)},i(a){o||(J(()=>{i&&i.end(1),r=se(n,B,{x:50,duration:500}),r.start()}),o=!0)},o(a){r&&r.invalidate(),i=te(n,He,{duration:1e3}),o=!1},d(a){a&&y(n),a&&i&&i.end()}}}function un(t){let e,n,l,s,r=t[0].id+"",i,o,a,u,p,f,c,b,$,_,d=t[0].otherPlayers.length+"",g,E,S,v=[],H=new Map,w,O,A,L=t[0].player&&tt(t),W=t[0].otherPlayers;const Ge=C=>C[2].id;for(let C=0;C<W.length;C+=1){let G=et(t,W,C),K=Ge(G);H.set(K,v[C]=lt(K,G))}let D=null;return W.length||(D=nt()),{c(){e=h("div"),n=h("h3"),n.textContent="Pelin tunnus",l=R(),s=h("div"),i=P(r),o=R(),L&&L.c(),a=R(),u=h("button"),p=P("Aloita peli"),c=R(),b=h("div"),$=h("h2"),_=P("Muut pelaajat ("),g=P(d),E=P(")"),S=R();for(let C=0;C<v.length;C+=1)v[C].c();D&&D.c(),N(n,"class","svelte-1nvwh74"),N(s,"class","game-id svelte-1nvwh74"),u.disabled=f=t[0].otherPlayers.length<1,N(u,"class","svelte-1nvwh74")},m(C,G){k(C,e,G),m(e,n),m(e,l),m(e,s),m(s,i),m(e,o),L&&L.m(e,null),k(C,a,G),k(C,u,G),m(u,p),k(C,c,G),k(C,b,G),m(b,$),m($,_),m($,g),m($,E),m(b,S);for(let K=0;K<v.length;K+=1)v[K].m(b,null);D&&D.m(b,null),w=!0,O||(A=q(u,"click",t[1]),O=!0)},p(C,[G]){(!w||G&1)&&r!==(r=C[0].id+"")&&M(i,r),C[0].player?L?L.p(C,G):(L=tt(C),L.c(),L.m(e,null)):L&&(L.d(1),L=null),(!w||G&1&&f!==(f=C[0].otherPlayers.length<1))&&(u.disabled=f),(!w||G&1)&&d!==(d=C[0].otherPlayers.length+"")&&M(g,d),G&1&&(W=C[0].otherPlayers,Pe(),v=Ct(v,G,Ge,1,C,W,H,b,Ot,lt,null,et),Le(),!W.length&&D?D.p(C,G):W.length?D&&(D.d(1),D=null):(D=nt(),D.c(),D.m(b,null)))},i(C){if(!w){for(let G=0;G<W.length;G+=1)U(v[G]);w=!0}},o(C){for(let G=0;G<v.length;G+=1)V(v[G]);w=!1},d(C){C&&y(e),L&&L.d(),C&&y(a),C&&y(u),C&&y(c),C&&y(b);for(let G=0;G<v.length;G+=1)v[G].d();D&&D.d(),O=!1,A()}}}function an(t,e,n){let l;return ve(t,j,r=>n(0,l=r)),[l,()=>Re()]}class fn extends ae{constructor(e){super(),ue(this,e,an,un,ee,{})}}function cn(t){let e,n,l,s,r,i,o,a,u,p,f,c,b,$,_,d,g,E,S,v,H,w,O;return{c(){e=h("div"),n=h("div"),l=h("label"),l.textContent="Nimi",s=R(),r=h("input"),i=R(),o=h("button"),a=P("Luo uusi peli"),p=R(),f=h("div"),c=h("div"),b=h("label"),b.textContent="Pelin tunnus",$=R(),_=h("input"),d=R(),g=h("button"),E=P("Liity peliin"),v=R(),H=h("div"),H.innerHTML=`<h3>Ohjeet</h3> 
    <ul><li>Jokainen arvaa vuorollaan yht\xE4 sanaa.</li> 
        <li>Muut antavat yhden sanan vinkin.</li> 
        <li>Jos vinkki on sama toisen kanssa, ne molemmat poistetaan.</li></ul>`,N(l,"for","username"),N(r,"id","username"),N(r,"type","text"),N(r,"maxlength","30"),o.disabled=u=!t[0],N(o,"class","svelte-c1oq78"),N(e,"class","row"),N(b,"for","gameIdToJoin"),N(_,"id","gameIdToJoin"),N(_,"type","number"),N(_,"minlength","4"),N(_,"maxlength","4"),N(_,"min","1001"),N(_,"max","9999"),g.disabled=S=!t[0]||!t[1],N(g,"class","svelte-c1oq78"),N(f,"class","row"),N(H,"class","guide svelte-c1oq78")},m(A,L){k(A,e,L),m(e,n),m(n,l),m(n,s),m(n,r),z(r,t[0]),m(e,i),m(e,o),m(o,a),k(A,p,L),k(A,f,L),m(f,c),m(c,b),m(c,$),m(c,_),z(_,t[1]),m(f,d),m(f,g),m(g,E),k(A,v,L),k(A,H,L),w||(O=[q(r,"input",t[2]),q(r,"keydown",t[3]),q(o,"click",t[4]),q(_,"input",t[5]),q(_,"keydown",t[6]),q(g,"click",t[7])],w=!0)},p(A,[L]){L&1&&r.value!==A[0]&&z(r,A[0]),L&1&&u!==(u=!A[0])&&(o.disabled=u),L&2&&ft(_.value)!==A[1]&&z(_,A[1]),L&3&&S!==(S=!A[0]||!A[1])&&(g.disabled=S)},i:I,o:I,d(A){A&&y(e),A&&y(p),A&&y(f),A&&y(v),A&&y(H),w=!1,Y(O)}}}function dn(t,e,n){let l,s;function r(){l=this.value,n(0,l)}const i=f=>{f.key==="Enter"&&l&&Me(l)},o=()=>Me(l);function a(){s=ft(this.value),n(1,s)}return[l,s,r,i,o,a,f=>{f.key==="Enter"&&l&&s&&Te(s,l)},()=>Te(s,l)]}class _n extends ae{constructor(e){super(),ue(this,e,dn,cn,ee,{})}}function pn(t){let e,n,l,s;return n=new _n({}),{c(){e=h("div"),be(n.$$.fragment)},m(r,i){k(r,e,i),re(n,e,null),s=!0},p(r,i){t=r},i(r){s||(U(n.$$.fragment,r),l&&l.end(1),s=!0)},o(r){V(n.$$.fragment,r),l=te(e,B,t[2]),s=!1},d(r){r&&y(e),oe(n),r&&l&&l.end()}}}function mn(t){let e,n,l,s,r;return n=new fn({}),{c(){e=h("div"),be(n.$$.fragment)},m(i,o){k(i,e,o),re(n,e,null),r=!0},p(i,o){t=i},i(i){r||(U(n.$$.fragment,i),J(()=>{s&&s.end(1),l=se(e,B,t[1]),l.start()}),r=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),s=te(e,B,t[2]),r=!1},d(i){i&&y(e),oe(n),i&&s&&s.end()}}}function hn(t){let e,n,l,s,r;return n=new Ft({}),{c(){e=h("div"),be(n.$$.fragment)},m(i,o){k(i,e,o),re(n,e,null),r=!0},p(i,o){t=i},i(i){r||(U(n.$$.fragment,i),J(()=>{s&&s.end(1),l=se(e,B,t[1]),l.start()}),r=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),s=te(e,B,t[2]),r=!1},d(i){i&&y(e),oe(n),i&&s&&s.end()}}}function vn(t){let e,n,l,s,r;return n=new on({}),{c(){e=h("div"),be(n.$$.fragment)},m(i,o){k(i,e,o),re(n,e,null),r=!0},p(i,o){t=i},i(i){r||(U(n.$$.fragment,i),J(()=>{s&&s.end(1),l=se(e,B,t[1]),l.start()}),r=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),s=te(e,B,t[2]),r=!1},d(i){i&&y(e),oe(n),i&&s&&s.end()}}}function bn(t){let e,n,l,s,r,i,o,a;const u=[vn,hn,mn,pn],p=[];function f(c,b){return c[0].hints.length>0||c[0].duplicateHints.length>0?0:c[0].gameStarted?1:c[0].id?2:3}return i=f(t),o=p[i]=u[i](t),{c(){e=h("div"),n=h("main"),l=h("h1"),l.textContent="Vain Yksi",s=R(),r=h("div"),o.c(),N(l,"class","svelte-fck7fd"),Z(l,"started",t[0].id),N(r,"class","game-info svelte-fck7fd"),N(e,"class","content svelte-fck7fd")},m(c,b){k(c,e,b),m(e,n),m(n,l),m(n,s),m(n,r),p[i].m(r,null),a=!0},p(c,[b]){b&1&&Z(l,"started",c[0].id);let $=i;i=f(c),i===$?p[i].p(c,b):(Pe(),V(p[$],1,1,()=>{p[$]=null}),Le(),o=p[i],o?o.p(c,b):(o=p[i]=u[i](c),o.c()),U(o,1),o.m(r,null))},i(c){a||(U(o),a=!0)},o(c){V(o),a=!1},d(c){c&&y(e),p[i].d()}}}function yn(t,e,n){let l;return ve(t,j,i=>n(0,l=i)),[l,{x:50,duration:500,delay:510},{x:-50,duration:500}]}class kn extends ae{constructor(e){super(),ue(this,e,yn,bn,ee,{})}}new kn({target:document.getElementById("app")});
