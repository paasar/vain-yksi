const vt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};vt();function I(){}const ge=t=>t;function it(t){return t()}function Ge(){return Object.create(null)}function Y(t){t.forEach(it)}function $e(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function bt(t){return Object.keys(t).length===0}function yt(t,...e){if(t==null)return I;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function he(t,e,n){t.$$.on_destroy.push(yt(e,n))}const st=typeof window<"u";let rt=st?()=>window.performance.now():()=>Date.now(),we=st?t=>requestAnimationFrame(t):I;const Z=new Set;function ot(t){Z.forEach(e=>{e.c(t)||(Z.delete(e),e.f())}),Z.size!==0&&we(ot)}function ut(t){let e;return Z.size===0&&we(ot),{promise:new Promise(n=>{Z.add(e={c:t,f:n})}),abort(){Z.delete(e)}}}function m(t,e){t.appendChild(e)}function at(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function kt(t){const e=h("style");return gt(at(t),e),e.sheet}function gt(t,e){m(t.head||t,e)}function k(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function Ee(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function P(t){return document.createTextNode(t)}function R(){return P(" ")}function Se(){return P("")}function D(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ct(t){return t===""?null:+t}function $t(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Ie(t,e,n){t.classList[n?"add":"remove"](e)}function wt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,l,e),r}const de=new Map;let _e=0;function Et(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function St(t,e){const n={stylesheet:kt(e),rules:{}};return de.set(t,n),n}function ft(t,e,n,l,r,s,i,o=0){const a=16.666/l;let u=`{
`;for(let f=0;f<=1;f+=a){const g=e+(n-e)*s(f);u+=f*100+`%{${i(g,1-g)}}
`}const p=u+`100% {${i(n,1-n)}}
}`,c=`__svelte_${Et(p)}_${o}`,d=at(t),{stylesheet:b,rules:$}=de.get(d)||St(d,t);$[c]||($[c]=!0,b.insertRule(`@keyframes ${c} ${p}`,b.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${l}ms linear ${r}ms 1 both`,_e+=1,c}function ye(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=n.length-l.length;r&&(t.style.animation=l.join(", "),_e-=r,_e||Nt())}function Nt(){we(()=>{_e||(de.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),de.clear())})}let Ne;function le(t){Ne=t}const ne=[],qe=[],ce=[],De=[],At=Promise.resolve();let ke=!1;function Pt(){ke||(ke=!0,At.then(dt))}function J(t){ce.push(t)}const be=new Set;let ae=0;function dt(){const t=Ne;do{for(;ae<ne.length;){const e=ne[ae];ae++,le(e),Lt(e.$$)}for(le(null),ne.length=0,ae=0;qe.length;)qe.pop()();for(let e=0;e<ce.length;e+=1){const n=ce[e];be.has(n)||(be.add(n),n())}ce.length=0}while(ne.length);for(;De.length;)De.pop()();ke=!1,be.clear(),le(t)}function Lt(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let te;function _t(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function pe(t,e,n){t.dispatchEvent(wt(`${e?"intro":"outro"}${n}`))}const fe=new Set;let Q;function Ae(){Q={r:0,c:[],p:Q}}function Pe(){Q.r||Y(Q.c),Q=Q.p}function U(t,e){t&&t.i&&(fe.delete(t),t.i(e))}function V(t,e,n,l){if(t&&t.o){if(fe.has(t))return;fe.add(t),Q.c.push(()=>{fe.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const pt={duration:0};function ie(t,e,n){let l=e(t,n),r=!1,s,i,o=0;function a(){s&&ye(t,s)}function u(){const{delay:c=0,duration:d=300,easing:b=ge,tick:$=I,css:_}=l||pt;_&&(s=ft(t,0,1,d,c,b,_,o++)),$(0,1);const f=rt()+c,g=f+d;i&&i.abort(),r=!0,J(()=>pe(t,!0,"start")),i=ut(E=>{if(r){if(E>=g)return $(1,0),pe(t,!0,"end"),a(),r=!1;if(E>=f){const S=b((E-f)/d);$(S,1-S)}}return r})}let p=!1;return{start(){p||(p=!0,ye(t),$e(l)?(l=l(),_t().then(u)):u())},invalidate(){p=!1},end(){r&&(a(),r=!1)}}}function ee(t,e,n){let l=e(t,n),r=!0,s;const i=Q;i.r+=1;function o(){const{delay:a=0,duration:u=300,easing:p=ge,tick:c=I,css:d}=l||pt;d&&(s=ft(t,1,0,u,a,p,d));const b=rt()+a,$=b+u;J(()=>pe(t,!1,"start")),ut(_=>{if(r){if(_>=$)return c(0,1),pe(t,!1,"end"),--i.r||Y(i.c),!1;if(_>=b){const f=p((_-b)/u);c(1-f,f)}}return r})}return $e(l)?_t().then(()=>{l=l(),o()}):o(),{end(a){a&&l.tick&&l.tick(1,0),r&&(s&&ye(t,s),r=!1)}}}function Ot(t,e){V(t,1,1,()=>{e.delete(t.key)})}function Ct(t,e,n,l,r,s,i,o,a,u,p,c){let d=t.length,b=s.length,$=d;const _={};for(;$--;)_[t[$].key]=$;const f=[],g=new Map,E=new Map;for($=b;$--;){const w=c(r,s,$),O=n(w);let A=i.get(O);A?l&&A.p(w,e):(A=u(O,w),A.c()),g.set(O,f[$]=A),O in _&&E.set(O,Math.abs($-_[O]))}const S=new Set,v=new Set;function H(w){U(w,1),w.m(o,p),i.set(w.key,w),p=w.first,b--}for(;d&&b;){const w=f[b-1],O=t[d-1],A=w.key,L=O.key;w===O?(p=w.first,d--,b--):g.has(L)?!i.has(A)||S.has(A)?H(w):v.has(L)?d--:E.get(A)>E.get(L)?(v.add(A),H(w)):(S.add(L),d--):(a(O,i),d--)}for(;d--;){const w=t[d];g.has(w.key)||a(w,i)}for(;b;)H(f[b-1]);return f}function ve(t){t&&t.c()}function se(t,e,n,l){const{fragment:r,on_mount:s,on_destroy:i,after_update:o}=t.$$;r&&r.m(e,n),l||J(()=>{const a=s.map(it).filter($e);i?i.push(...a):Y(a),t.$$.on_mount=[]}),o.forEach(J)}function re(t,e){const n=t.$$;n.fragment!==null&&(Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(ne.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,l,r,s,i,o=[-1]){const a=Ne;le(t);const u=t.$$={fragment:null,ctx:null,props:s,update:I,not_equal:r,bound:Ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ge(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let p=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...b)=>{const $=b.length?b[0]:d;return u.ctx&&r(u.ctx[c],u.ctx[c]=$)&&(!u.skip_bound&&u.bound[c]&&u.bound[c]($),p&&Rt(t,c)),d}):[],u.update(),p=!0,Y(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const c=$t(e.target);u.fragment&&u.fragment.l(c),c.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&U(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),dt()}le(a)}class ue{$destroy(){re(this,1),this.$destroy=I}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function Ht(t,e=I){let n;const l=new Set;function r(o){if(x(t,o)&&(t=o,n)){const a=!X.length;for(const u of l)u[1](),X.push(u,t);if(a){for(let u=0;u<X.length;u+=2)X[u][0](X[u+1]);X.length=0}}}function s(o){r(o(t))}function i(o,a=I){const u=[o,a];return l.add(u),l.size===1&&(n=e(r)||I),o(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:i}}class Gt{constructor(){this.gameStarted=!1,this.otherPlayers=[],this.hints=[],this.duplicateHints=[]}}let q=Ht(new Gt);class It{constructor(e,n){this.client=e,this.hint=n}}class qt{constructor(e){this.guess=e.guess,this.word=e.word,this.correct=e.result==="correct"}}class je{constructor(e,n){this.hintGiven=!1,this.guesser=!1,this.id=e,this.username=n}}function Dt(){q.update(t=>(t.duplicateHints=[],t.hints=[],t.result=null,t))}let me=window.location.hostname,Le=":8000";me!=="localhost"&&me!=="127.0.0.1"&&(Le="");let jt=window.location.protocol,Oe="ws";jt==="https:"&&(Oe="wss");let mt=window.location.pathname,F;var T;(function(t){t.ALL_HINTS="all_hints",t.ALL_HINTS_TO_GUESSER="all_hints_to_guesser",t.GUESS_RESULT="guess_result",t.HINT_RECEIVED="hint_received",t.NEW_GAME="new_game",t.NEW_ROUND="new_round",t.OTHER_PLAYERS="other_players",t.PLAYER_JOIN="join",t.PLAYER_QUIT="quit",t.YOUR_DATA="your_data"})(T||(T={}));function Me(t){F=new WebSocket(`${Oe}://${me}${Le}${mt}ws/new/${t}`),ht(F)}function Te(t,e){F=new WebSocket(`${Oe}://${me}${Le}${mt}ws/join/${t}/${e}`),q.update(n=>(n.id=t,n)),ht(F)}function Ce(){console.log("Starting next round"),F.send(JSON.stringify({action:{start_next_round:!0}}))}function Ue(t){console.log("Sending hint",t),F.send(JSON.stringify({action:{hint:t}})),q.update(e=>(e.player.hintGiven=!0,e))}function Je(t){console.log("Sending guess",t),F.send(JSON.stringify({action:{guess:t}}))}function Mt(){console.log("Skip word"),F.send(JSON.stringify({action:{skip_word:!0}}))}function ht(t){t.onopen=function(e){console.log("[open] Connection established")},t.onmessage=function(e){console.log(`[message] Data received from server: ${e.data} ${typeof e.data}`);let n=JSON.parse(e.data);switch(n.event){case T.ALL_HINTS:let l=n.payload;q.update(_=>(_.hints=l.hints,_.duplicateHints=l.duplicates,_));break;case T.ALL_HINTS_TO_GUESSER:let r=n.payload;q.update(_=>(_.hints=r.hints,_.duplicateHints=r.usersWithDuplicates.map(f=>new It(f,"")),_));break;case T.GUESS_RESULT:let s=n.payload;q.update(_=>(_.result=new qt(s),_));break;case T.HINT_RECEIVED:let i=n.payload;q.update(_=>(_.otherPlayers=_.otherPlayers.map(f=>(f.id===i.client&&(f.hintGiven=!0),f)),_));break;case T.NEW_GAME:let o=n.payload;console.log("NewGame event!",o.id),q.update(_=>(_.id=o.id,_));break;case T.NEW_ROUND:let a=n.payload;console.log("NewRound event!",a.role,a.word),Dt(),q.update(_=>(_.word=a.word,_.player.guesser=a.role==="guesser",_.player.hintGiven=!1,_)),q.update(_=>(_.otherPlayers=_.otherPlayers.map(f=>(f.id===a.guesser?f.guesser=!0:f.guesser=!1,f.hintGiven=!1,f)),_)),q.update(_=>(_.gameStarted=!0,_));break;case T.OTHER_PLAYERS:let u=n.payload;console.log("Other players",u),q.update(_=>(_.otherPlayers=u,_));break;case T.PLAYER_JOIN:let p=n.payload;console.log("Join event!",p.id,p.username);let c=new je(p.id,p.username);q.update(_=>(_.otherPlayers.push(c),_));break;case T.PLAYER_QUIT:let d=n.payload;console.log("Quit event!",d.id),q.update(_=>(_.otherPlayers=_.otherPlayers.filter(f=>f.id!==d.id),_));break;case T.YOUR_DATA:let b=n.payload,$=new je(b.id,b.username);q.update(_=>(_.player=$,_));break;default:console.log("Unknown event:",typeof n)}},t.onclose=function(e){e.wasClean?console.log(`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`):console.log("[close] Connection died")},t.onerror=function(e){console.log(`[error] ${e}`)}}function Ve(t,e,n){const l=t.slice();return l[7]=e[n],l}function Tt(t){let e;return{c(){e=P("Odotellaan muita.")},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Ut(t){let e,n,l,r=t[1].word+"",s,i,o,a,u,p,c,d,b,$,_,f,g;return{c(){e=h("div"),n=P("Anna vinkki sanalle: "),l=h("div"),s=P(r),i=R(),o=h("div"),a=h("div"),u=h("label"),u.textContent="Vinkki",p=R(),c=h("input"),d=R(),b=h("button"),$=P("L\xE4het\xE4 vinkki"),N(l,"class","word-to-guess svelte-1a1t21q"),N(u,"for","hint"),N(c,"id","hint"),b.disabled=_=!t[0],N(b,"class","svelte-1a1t21q"),N(o,"class","row")},m(E,S){k(E,e,S),m(e,n),m(e,l),m(l,s),k(E,i,S),k(E,o,S),m(o,a),m(a,u),m(a,p),m(a,c),z(c,t[0]),m(o,d),m(o,b),m(b,$),f||(g=[D(c,"input",t[2]),D(c,"keydown",t[3]),D(b,"click",t[4])],f=!0)},p(E,S){S&2&&r!==(r=E[1].word+"")&&M(s,r),S&1&&c.value!==E[0]&&z(c,E[0]),S&1&&_!==(_=!E[0])&&(b.disabled=_)},d(E){E&&y(e),E&&y(i),E&&y(o),f=!1,Y(g)}}}function Jt(t){let e;return{c(){e=P("Sin\xE4 arvaat! Odota vinkkej\xE4.")},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Ye(t){let e;return{c(){e=h("div"),e.textContent="Ei muita pelaajia."},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function Vt(t){let e;return{c(){e=P("Vinkkaa")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Yt(t){let e;return{c(){e=P("VALMIS")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Wt(t){let e;return{c(){e=P("ARVAA")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function We(t){let e,n,l,r,s=t[7].username+"",i,o;function a(c,d){return c[7].guesser?Wt:c[7].hintGiven?Yt:Vt}let u=a(t),p=u(t);return{c(){e=h("div"),n=h("div"),p.c(),l=R(),r=h("div"),i=P(s),o=R(),N(n,"class","state svelte-1a1t21q"),N(r,"class","username svelte-1a1t21q"),N(e,"class","player-state-card svelte-1a1t21q")},m(c,d){k(c,e,d),m(e,n),p.m(n,null),m(e,l),m(e,r),m(r,i),m(e,o)},p(c,d){u!==(u=a(c))&&(p.d(1),p=u(c),p&&(p.c(),p.m(n,null))),d&2&&s!==(s=c[7].username+"")&&M(i,s)},d(c){c&&y(e),p.d()}}}function ze(t){let e,n,l;return{c(){e=h("button"),e.textContent="Vaihda sana",N(e,"class","svelte-1a1t21q")},m(r,s){k(r,e,s),n||(l=D(e,"click",t[5]),n=!0)},p:I,d(r){r&&y(e),n=!1,l()}}}function zt(t){let e,n,l,r,s,i,o,a,u,p,c,d;function b(v,H){return v[1].player&&v[1].player.guesser?Jt:v[1].player&&!v[1].player.hintGiven?Ut:Tt}let $=b(t),_=$(t),f=t[1].otherPlayers,g=[];for(let v=0;v<f.length;v+=1)g[v]=We(Ve(t,f,v));let E=null;f.length||(E=Ye());let S=t[1].player&&!t[1].player.guesser&&ze(t);return{c(){e=h("div"),_.c(),n=R(),l=h("h2"),l.textContent="Muut",r=R(),s=h("div");for(let v=0;v<g.length;v+=1)g[v].c();E&&E.c(),i=R(),o=h("div"),a=h("div"),S&&S.c(),u=R(),p=h("button"),p.textContent="Vaihda arvaaja ja sana",N(p,"class","svelte-1a1t21q"),N(a,"class","footer-content svelte-1a1t21q"),N(o,"class","footer svelte-1a1t21q")},m(v,H){k(v,e,H),_.m(e,null),k(v,n,H),k(v,l,H),k(v,r,H),k(v,s,H);for(let w=0;w<g.length;w+=1)g[w].m(s,null);E&&E.m(s,null),k(v,i,H),k(v,o,H),m(o,a),S&&S.m(a,null),m(a,u),m(a,p),c||(d=D(p,"click",t[6]),c=!0)},p(v,[H]){if($===($=b(v))&&_?_.p(v,H):(_.d(1),_=$(v),_&&(_.c(),_.m(e,null))),H&2){f=v[1].otherPlayers;let w;for(w=0;w<f.length;w+=1){const O=Ve(v,f,w);g[w]?g[w].p(O,H):(g[w]=We(O),g[w].c(),g[w].m(s,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=f.length,!f.length&&E?E.p(v,H):f.length?E&&(E.d(1),E=null):(E=Ye(),E.c(),E.m(s,null))}v[1].player&&!v[1].player.guesser?S?S.p(v,H):(S=ze(v),S.c(),S.m(a,u)):S&&(S.d(1),S=null)},i:I,o:I,d(v){v&&y(e),_.d(),v&&y(n),v&&y(l),v&&y(r),v&&y(s),Ee(g,v),E&&E.d(),v&&y(i),v&&y(o),S&&S.d(),c=!1,d()}}}function Qt(t,e,n){let l;he(t,q,p=>n(1,l=p));let r;function s(){r=this.value,n(0,r)}return[r,l,s,p=>{p.key==="Enter"&&r&&Ue(r)},()=>Ue(r),()=>Mt(),()=>Ce()]}class Ft extends ue{constructor(e){super(),oe(this,e,Qt,zt,x,{})}}function Bt(t){const e=t-1;return e*e*e+1}function Re(t,{delay:e=0,duration:n=400,easing:l=ge}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:s=>`opacity: ${s*r}`}}function B(t,{delay:e=0,duration:n=400,easing:l=Bt,x:r=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(t),a=+o.opacity,u=o.transform==="none"?"":o.transform,p=a*(1-i);return{delay:e,duration:n,easing:l,css:(c,d)=>`
			transform: ${u} translate(${(1-c)*r}px, ${(1-c)*s}px);
			opacity: ${a-p*d}`}}function Qe(t,e,n){const l=t.slice();return l[9]=e[n],l}function Fe(t,e,n){const l=t.slice();return l[9]=e[n],l}function Be(t){let e,n,l,r=t[1].duplicateHints,s=[];for(let i=0;i<r.length;i+=1)s[i]=Ke(Fe(t,r,i));return{c(){e=h("h2"),e.textContent="Duplikaatit vinkit",n=R();for(let i=0;i<s.length;i+=1)s[i].c();l=Se()},m(i,o){k(i,e,o),k(i,n,o);for(let a=0;a<s.length;a+=1)s[a].m(i,o);k(i,l,o)},p(i,o){if(o&10){r=i[1].duplicateHints;let a;for(a=0;a<r.length;a+=1){const u=Fe(i,r,a);s[a]?s[a].p(u,o):(s[a]=Ke(u),s[a].c(),s[a].m(l.parentNode,l))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(i){i&&y(e),i&&y(n),Ee(s,i),i&&y(l)}}}function Kt(t){let e,n=t[3](t[9].client)+"",l,r;return{c(){e=h("div"),l=P(n),r=R(),N(e,"class","duplicate svelte-1erss3n")},m(s,i){k(s,e,i),m(e,l),m(e,r)},p(s,i){i&2&&n!==(n=s[3](s[9].client)+"")&&M(l,n)},d(s){s&&y(e)}}}function Xt(t){let e,n,l=t[3](t[9].client)+"",r,s,i,o=t[9].hint+"",a,u;return{c(){e=h("div"),n=h("div"),r=P(l),s=R(),i=h("div"),a=P(o),u=R(),N(n,"class","username svelte-1erss3n"),N(i,"class","hint svelte-1erss3n"),N(e,"class","hint-card duplicate svelte-1erss3n")},m(p,c){k(p,e,c),m(e,n),m(n,r),m(e,s),m(e,i),m(i,a),m(e,u)},p(p,c){c&2&&l!==(l=p[3](p[9].client)+"")&&M(r,l),c&2&&o!==(o=p[9].hint+"")&&M(a,o)},d(p){p&&y(e)}}}function Ke(t){let e;function n(s,i){return(!s[1].player.guesser||s[1].result)&&s[9].hint?Xt:Kt}let l=n(t),r=l(t);return{c(){r.c(),e=Se()},m(s,i){r.m(s,i),k(s,e,i)},p(s,i){l===(l=n(s))&&r?r.p(s,i):(r.d(1),r=l(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function Xe(t){let e;return{c(){e=P("-")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function Ze(t){let e,n,l=t[3](t[9].client)+"",r,s,i,o=t[9].hint+"",a;return{c(){e=h("div"),n=h("div"),r=P(l),s=R(),i=h("div"),a=P(o),N(n,"class","username svelte-1erss3n"),N(i,"class","hint svelte-1erss3n"),N(e,"class","hint-card svelte-1erss3n")},m(u,p){k(u,e,p),m(e,n),m(n,r),m(e,s),m(e,i),m(i,a)},p(u,p){p&2&&l!==(l=u[3](u[9].client)+"")&&M(r,l),p&2&&o!==(o=u[9].hint+"")&&M(a,o)},d(u){u&&y(e)}}}function Zt(t){let e,n,l;function r(o,a){return o[1].player.guesser?tn:en}let s=r(t),i=s(t);return{c(){e=h("div"),i.c(),N(e,"class","row")},m(o,a){k(o,e,a),i.m(e,null),l=!0},p(o,a){s===(s=r(o))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(e,null)))},i(o){l||(n&&n.end(1),l=!0)},o(o){n=ee(e,Re,{duration:500}),l=!1},d(o){o&&y(e),i.d(),o&&n&&n.end()}}}function xt(t){let e,n,l,r,s,i,o,a,u,p=t[1].result.word+"",c,d,b,$,_,f,g,E,S;function v(A,L){return A[1].result.correct?ln:nn}let H=v(t),w=H(t),O=!t[1].result.correct&&xe(t);return{c(){e=h("div"),n=h("div"),l=P("Arvaus meni "),r=h("span"),w.c(),s=P("!"),i=R(),o=h("div"),a=P("Sana oli "),u=h("span"),c=P(p),d=P("."),b=R(),O&&O.c(),$=R(),_=h("div"),f=h("button"),f.textContent="Aloita uusi kierros",N(r,"class","emphasis svelte-1erss3n"),N(u,"class","emphasis svelte-1erss3n"),N(_,"class","next-round svelte-1erss3n"),N(e,"class","result svelte-1erss3n")},m(A,L){k(A,e,L),m(e,n),m(n,l),m(n,r),w.m(r,null),m(r,s),m(e,i),m(e,o),m(o,a),m(o,u),m(u,c),m(o,d),m(e,b),O&&O.m(e,null),m(e,$),m(e,_),m(_,f),E||(S=D(f,"click",t[4]),E=!0)},p(A,L){H!==(H=v(A))&&(w.d(1),w=H(A),w&&(w.c(),w.m(r,s))),L&2&&p!==(p=A[1].result.word+"")&&M(c,p),A[1].result.correct?O&&(O.d(1),O=null):O?O.p(A,L):(O=xe(A),O.c(),O.m(e,$))},i(A){g||J(()=>{g=ie(e,Re,{duration:500,delay:500}),g.start()})},o:I,d(A){A&&y(e),w.d(),O&&O.d(),E=!1,S()}}}function en(t){let e,n,l;return{c(){e=P("Odotetaan, ett\xE4 "),n=P(t[2]),l=P(" arvaa.")},m(r,s){k(r,e,s),k(r,n,s),k(r,l,s)},p:I,d(r){r&&y(e),r&&y(n),r&&y(l)}}}function tn(t){let e,n,l,r,s,i,o,a,u,p;return{c(){e=h("div"),n=h("label"),n.textContent="Arvaus",l=R(),r=h("input"),s=R(),i=h("button"),o=P("Arvaa!"),N(n,"for","guess"),N(r,"id","guess"),N(i,"class","button-guess svelte-1erss3n"),i.disabled=a=!t[0]},m(c,d){k(c,e,d),m(e,n),m(e,l),m(e,r),z(r,t[0]),k(c,s,d),k(c,i,d),m(i,o),u||(p=[D(r,"input",t[5]),D(r,"keydown",t[6]),D(i,"click",t[7])],u=!0)},p(c,d){d&1&&r.value!==c[0]&&z(r,c[0]),d&1&&a!==(a=!c[0])&&(i.disabled=a)},d(c){c&&y(e),c&&y(s),c&&y(i),u=!1,Y(p)}}}function nn(t){let e;return{c(){e=P("v\xE4\xE4rin")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function ln(t){let e;return{c(){e=P("oikein")},m(n,l){k(n,e,l)},d(n){n&&y(e)}}}function xe(t){let e,n,l=t[1].result.guess+"",r,s;return{c(){e=P("Arvaus oli "),n=h("span"),r=P(l),s=P("."),N(n,"class","emphasis svelte-1erss3n")},m(i,o){k(i,e,o),k(i,n,o),m(n,r),k(i,s,o)},p(i,o){o&2&&l!==(l=i[1].result.guess+"")&&M(r,l)},d(i){i&&y(e),i&&y(n),i&&y(s)}}}function sn(t){let e,n,l,r,s,i,o,a,u=t[1].duplicateHints.length>0&&Be(t),p=t[1].hints,c=[];for(let f=0;f<p.length;f+=1)c[f]=Ze(Qe(t,p,f));let d=null;p.length||(d=Xe());const b=[xt,Zt],$=[];function _(f,g){return f[1].result?0:1}return s=_(t),i=$[s]=b[s](t),{c(){u&&u.c(),e=R(),n=h("h2"),n.textContent="Vinkit",l=R();for(let f=0;f<c.length;f+=1)c[f].c();d&&d.c(),r=R(),i.c(),o=Se()},m(f,g){u&&u.m(f,g),k(f,e,g),k(f,n,g),k(f,l,g);for(let E=0;E<c.length;E+=1)c[E].m(f,g);d&&d.m(f,g),k(f,r,g),$[s].m(f,g),k(f,o,g),a=!0},p(f,[g]){if(f[1].duplicateHints.length>0?u?u.p(f,g):(u=Be(f),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),g&10){p=f[1].hints;let S;for(S=0;S<p.length;S+=1){const v=Qe(f,p,S);c[S]?c[S].p(v,g):(c[S]=Ze(v),c[S].c(),c[S].m(r.parentNode,r))}for(;S<c.length;S+=1)c[S].d(1);c.length=p.length,p.length?d&&(d.d(1),d=null):d||(d=Xe(),d.c(),d.m(r.parentNode,r))}let E=s;s=_(f),s===E?$[s].p(f,g):(Ae(),V($[E],1,1,()=>{$[E]=null}),Pe(),i=$[s],i?i.p(f,g):(i=$[s]=b[s](f),i.c()),U(i,1),i.m(o.parentNode,o))},i(f){a||(U(i),a=!0)},o(f){V(i),a=!1},d(f){u&&u.d(f),f&&y(e),f&&y(n),f&&y(l),Ee(c,f),d&&d.d(f),f&&y(r),$[s].d(f),f&&y(o)}}}function rn(t,e,n){let l;he(t,q,d=>n(1,l=d));let r=l.otherPlayers.filter(d=>d.guesser).at(0),s=r?r.username:"...",i;function o(d){let b=l.otherPlayers.filter($=>$.id===d);return b.length===1?b.at(0).username:l.player.id===d?l.player.username:"N/A"}const a=()=>Ce();function u(){i=this.value,n(0,i)}return[i,l,s,o,a,u,d=>{d.key==="Enter"&&i&&Je(i)},()=>Je(i)]}class on extends ue{constructor(e){super(),oe(this,e,rn,sn,x,{})}}function et(t,e,n){const l=t.slice();return l[2]=e[n],l}function tt(t){let e,n,l=t[0].player.username+"",r;return{c(){e=P("Pelaat nimell\xE4 "),n=h("div"),r=P(l),N(n,"class","username svelte-1nvwh74")},m(s,i){k(s,e,i),k(s,n,i),m(n,r)},p(s,i){i&1&&l!==(l=s[0].player.username+"")&&M(r,l)},d(s){s&&y(e),s&&y(n)}}}function nt(t){let e;return{c(){e=h("div"),e.textContent="Ei viel\xE4 muita pelaajia."},m(n,l){k(n,e,l)},p:I,d(n){n&&y(e)}}}function lt(t,e){let n,l=e[2].username+"",r,s,i,o;return{key:t,first:null,c(){n=h("div"),r=P(l),N(n,"class","player-card svelte-1nvwh74"),this.first=n},m(a,u){k(a,n,u),m(n,r),o=!0},p(a,u){e=a,(!o||u&1)&&l!==(l=e[2].username+"")&&M(r,l)},i(a){o||(J(()=>{i&&i.end(1),s=ie(n,B,{x:50,duration:500}),s.start()}),o=!0)},o(a){s&&s.invalidate(),i=ee(n,Re,{duration:1e3}),o=!1},d(a){a&&y(n),a&&i&&i.end()}}}function un(t){let e,n,l,r,s=t[0].id+"",i,o,a,u,p,c,d,b,$,_,f=t[0].otherPlayers.length+"",g,E,S,v=[],H=new Map,w,O,A,L=t[0].player&&tt(t),W=t[0].otherPlayers;const He=C=>C[2].id;for(let C=0;C<W.length;C+=1){let G=et(t,W,C),K=He(G);H.set(K,v[C]=lt(K,G))}let j=null;return W.length||(j=nt()),{c(){e=h("div"),n=h("h3"),n.textContent="Pelin tunnus",l=R(),r=h("div"),i=P(s),o=R(),L&&L.c(),a=R(),u=h("button"),p=P("Aloita peli"),d=R(),b=h("div"),$=h("h2"),_=P("Muut pelaajat ("),g=P(f),E=P(")"),S=R();for(let C=0;C<v.length;C+=1)v[C].c();j&&j.c(),N(n,"class","svelte-1nvwh74"),N(r,"class","game-id svelte-1nvwh74"),u.disabled=c=t[0].otherPlayers.length<1,N(u,"class","svelte-1nvwh74")},m(C,G){k(C,e,G),m(e,n),m(e,l),m(e,r),m(r,i),m(e,o),L&&L.m(e,null),k(C,a,G),k(C,u,G),m(u,p),k(C,d,G),k(C,b,G),m(b,$),m($,_),m($,g),m($,E),m(b,S);for(let K=0;K<v.length;K+=1)v[K].m(b,null);j&&j.m(b,null),w=!0,O||(A=D(u,"click",t[1]),O=!0)},p(C,[G]){(!w||G&1)&&s!==(s=C[0].id+"")&&M(i,s),C[0].player?L?L.p(C,G):(L=tt(C),L.c(),L.m(e,null)):L&&(L.d(1),L=null),(!w||G&1&&c!==(c=C[0].otherPlayers.length<1))&&(u.disabled=c),(!w||G&1)&&f!==(f=C[0].otherPlayers.length+"")&&M(g,f),G&1&&(W=C[0].otherPlayers,Ae(),v=Ct(v,G,He,1,C,W,H,b,Ot,lt,null,et),Pe(),!W.length&&j?j.p(C,G):W.length?j&&(j.d(1),j=null):(j=nt(),j.c(),j.m(b,null)))},i(C){if(!w){for(let G=0;G<W.length;G+=1)U(v[G]);w=!0}},o(C){for(let G=0;G<v.length;G+=1)V(v[G]);w=!1},d(C){C&&y(e),L&&L.d(),C&&y(a),C&&y(u),C&&y(d),C&&y(b);for(let G=0;G<v.length;G+=1)v[G].d();j&&j.d(),O=!1,A()}}}function an(t,e,n){let l;return he(t,q,s=>n(0,l=s)),[l,()=>Ce()]}class cn extends ue{constructor(e){super(),oe(this,e,an,un,x,{})}}function fn(t){let e,n,l,r,s,i,o,a,u,p,c,d,b,$,_,f,g,E,S,v,H,w,O;return{c(){e=h("div"),n=h("div"),l=h("label"),l.textContent="Nimi",r=R(),s=h("input"),i=R(),o=h("button"),a=P("Luo uusi peli"),p=R(),c=h("div"),d=h("div"),b=h("label"),b.textContent="Pelin tunnus",$=R(),_=h("input"),f=R(),g=h("button"),E=P("Liity peliin"),v=R(),H=h("div"),H.innerHTML=`<h3>Ohjeet</h3> 
    <ul><li>Jokainen arvaa vuorollaan yht\xE4 sanaa.</li> 
        <li>Muut antavat yhden sanan vinkin.</li> 
        <li>Jos vinkki on sama toisen kanssa, ne molemmat poistetaan.</li></ul>`,N(l,"for","username"),N(s,"id","username"),N(s,"type","text"),N(s,"maxlength","30"),o.disabled=u=!t[0],N(o,"class","svelte-c1oq78"),N(e,"class","row"),N(b,"for","gameIdToJoin"),N(_,"id","gameIdToJoin"),N(_,"type","number"),N(_,"minlength","4"),N(_,"maxlength","4"),N(_,"min","1001"),N(_,"max","9999"),g.disabled=S=!t[0]||!t[1],N(g,"class","svelte-c1oq78"),N(c,"class","row"),N(H,"class","guide svelte-c1oq78")},m(A,L){k(A,e,L),m(e,n),m(n,l),m(n,r),m(n,s),z(s,t[0]),m(e,i),m(e,o),m(o,a),k(A,p,L),k(A,c,L),m(c,d),m(d,b),m(d,$),m(d,_),z(_,t[1]),m(c,f),m(c,g),m(g,E),k(A,v,L),k(A,H,L),w||(O=[D(s,"input",t[2]),D(s,"keydown",t[3]),D(o,"click",t[4]),D(_,"input",t[5]),D(_,"keydown",t[6]),D(g,"click",t[7])],w=!0)},p(A,[L]){L&1&&s.value!==A[0]&&z(s,A[0]),L&1&&u!==(u=!A[0])&&(o.disabled=u),L&2&&ct(_.value)!==A[1]&&z(_,A[1]),L&3&&S!==(S=!A[0]||!A[1])&&(g.disabled=S)},i:I,o:I,d(A){A&&y(e),A&&y(p),A&&y(c),A&&y(v),A&&y(H),w=!1,Y(O)}}}function dn(t,e,n){let l,r;function s(){l=this.value,n(0,l)}const i=c=>{c.key==="Enter"&&l&&Me(l)},o=()=>Me(l);function a(){r=ct(this.value),n(1,r)}return[l,r,s,i,o,a,c=>{c.key==="Enter"&&l&&r&&Te(r,l)},()=>Te(r,l)]}class _n extends ue{constructor(e){super(),oe(this,e,dn,fn,x,{})}}function pn(t){let e,n,l,r;return n=new _n({}),{c(){e=h("div"),ve(n.$$.fragment)},m(s,i){k(s,e,i),se(n,e,null),r=!0},p(s,i){t=s},i(s){r||(U(n.$$.fragment,s),l&&l.end(1),r=!0)},o(s){V(n.$$.fragment,s),l=ee(e,B,t[2]),r=!1},d(s){s&&y(e),re(n),s&&l&&l.end()}}}function mn(t){let e,n,l,r,s;return n=new cn({}),{c(){e=h("div"),ve(n.$$.fragment)},m(i,o){k(i,e,o),se(n,e,null),s=!0},p(i,o){t=i},i(i){s||(U(n.$$.fragment,i),J(()=>{r&&r.end(1),l=ie(e,B,t[1]),l.start()}),s=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),r=ee(e,B,t[2]),s=!1},d(i){i&&y(e),re(n),i&&r&&r.end()}}}function hn(t){let e,n,l,r,s;return n=new Ft({}),{c(){e=h("div"),ve(n.$$.fragment)},m(i,o){k(i,e,o),se(n,e,null),s=!0},p(i,o){t=i},i(i){s||(U(n.$$.fragment,i),J(()=>{r&&r.end(1),l=ie(e,B,t[1]),l.start()}),s=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),r=ee(e,B,t[2]),s=!1},d(i){i&&y(e),re(n),i&&r&&r.end()}}}function vn(t){let e,n,l,r,s;return n=new on({}),{c(){e=h("div"),ve(n.$$.fragment)},m(i,o){k(i,e,o),se(n,e,null),s=!0},p(i,o){t=i},i(i){s||(U(n.$$.fragment,i),J(()=>{r&&r.end(1),l=ie(e,B,t[1]),l.start()}),s=!0)},o(i){V(n.$$.fragment,i),l&&l.invalidate(),r=ee(e,B,t[2]),s=!1},d(i){i&&y(e),re(n),i&&r&&r.end()}}}function bn(t){let e,n,l,r,s,i,o,a;const u=[vn,hn,mn,pn],p=[];function c(d,b){return d[0].hints.length>0||d[0].duplicateHints.length>0?0:d[0].gameStarted?1:d[0].id?2:3}return i=c(t),o=p[i]=u[i](t),{c(){e=h("div"),n=h("main"),l=h("h1"),l.textContent="Vain Yksi",r=R(),s=h("div"),o.c(),N(l,"class","svelte-fck7fd"),Ie(l,"started",t[0].id),N(s,"class","game-info svelte-fck7fd"),N(e,"class","content svelte-fck7fd")},m(d,b){k(d,e,b),m(e,n),m(n,l),m(n,r),m(n,s),p[i].m(s,null),a=!0},p(d,[b]){b&1&&Ie(l,"started",d[0].id);let $=i;i=c(d),i===$?p[i].p(d,b):(Ae(),V(p[$],1,1,()=>{p[$]=null}),Pe(),o=p[i],o?o.p(d,b):(o=p[i]=u[i](d),o.c()),U(o,1),o.m(s,null))},i(d){a||(U(o),a=!0)},o(d){V(o),a=!1},d(d){d&&y(e),p[i].d()}}}function yn(t,e,n){let l;return he(t,q,i=>n(0,l=i)),[l,{x:50,duration:500,delay:510},{x:-50,duration:500}]}class kn extends ue{constructor(e){super(),oe(this,e,yn,bn,x,{})}}new kn({target:document.getElementById("app")});
